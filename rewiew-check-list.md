#Чистота кода

Раздел -> Запахи относящиеся к разделу -> Рефакторинги позволяющиее от них избавиться

Разделы:
- Общее
- Комментарии
- Имена
- Функции
 - Сигнатура и вызов функций
 - Тело функции
- Переменные
- Условные выражения
- Исключения
- Классы
- Структура

##Общее

- 1. Мёртвый код
Признак: всё то, что Intelij IDEA подчёркивает сереньким. Это код, который никогда не выполняется. К такому относится:
Классы, которые нигде не используются
Функции, которые нигде не вызываются
Блоки в if-else, в которые нельзя попасть из-за того, что условие всегда истино ил всегда ложно.
Блок catch для исключения, которое никогда не вылетит
Блоки switch-case для невозможного значения
Решение: удалить

- 2. Вертикальное разделение
Переменные и функции должны определяться вблизи места их использования
Локальные переменные должны определяться непосредственно перед их использованием
Приватные функции должны определяться сразу же после первого использования
Решение: простое перемещение в нужное место

- 3. Непоследовательность
Если некая операция выполняется определённым образом, то и все похожие операции должны выполняться также.
<примеры>
Решение: соответствующие переименования

- 4. Конструкция switch
Для каждого типа выбора программа не должна содержать более одной команды switch.
Решение: Замена условного оператора полиморфизмом

- 5. «Волшебные» числа
В общем случае присутствие сырых чисел в коде нежелательно.
Решение: Замена волшебного числа именованной константой.

- 6. Громоздкие и непонятные условные конструкции
В сложных конструкциях булевой логики можно легко запутаться.
Решение: выделение конструкции в функцию с именем объясняющем намерения этой конструкции

- 7. Отрицательное условие
Условия начинающиеся с ! в общем случае сложнее для понимания
Решения: либо инверсия самой структуры, либо, если вызывается функция, соответствующее переименование и инверсия результата.

- 8. Скрытые временные привязки
Последовательность вызова функций должна быть очевидной.
Решение:  создать «эстафету» передачи параметров.

##Комментарии

- 1. Неуместная информация. 
Это значит, что в комментариях не нужно размещать инфомацию, которую стоит хранить в других источниках. Самое очевидное – в системе управления версиями. Помимо простого загромождения кода, это может смутить. Например, как вам известно, я работаю над DataLayer-ом. Во многих классах, что были там до меня, до сих пор в комментарии над классов стоит Саша Кучеев, тем не меннее код там зменился до неузноваимости, поэтому если я когда нибудь передам кому-то этот проект, его могут смутить эти комментарии. Именно поэтому я предлагаю их удалить и избавиться в идее от шаблона создавать класс с комментариями по дате и авторе в принципе. За этой информацией всегда можно обратиться к git-у.
- 2. Устаревший комментарий. 
Это очень опасная вещь, которая так же может запутать. Пример: недавно я залез во внутренности Hibernate и над пессимистической блокировкой на чтение увидил комментарий, что она пока что не реализована и ведёт себя также как и блокировка на запись. Однако наткнувшись после на статью и самомтоятельно прогнав тесты на это, я убедился, что это наглая ложь! Такие комеентарии следует своевременно обновлять, а лучше удолять.
- 3. Избыточный комментарий. 
Это комментарий, описывающий то, что и так очевидно. Например комментарии Javadoc, которые просто повторяют сигнатуру функции. В своём прошлом проекте, я несколько раз использовал технику псевдокода. Это полезно, когда нужно написать сложный алгоритм и ты находишься в ступоре от того, как к нему подступиться (эту проблему может решить TDD, но сейчас не о том). Суть в том, что ты расписываешь в редакторе шаги,которые нужно сделать простыми словами. Аккуратно до деталей. Расставляешь все по полочкам. После каждогошага перевод строки После этого, под каждойстрочкой пишешь соответствующей ей код. После того, как я закончил, то решил оставить эти строки в качестве комментариев. Это плохая идея. Их следовало удалить.
- 4. Плохо написанный комментарий.
Если уж, в самом крайнем случае пришлось написать комментарий, чтобы объяснить сложное место в коде, то нужно писать его очень хорошо и не жалея времени, тщательно подбирать слова, разъяснить все как можно более ясно и просто. Возможно, во время написания такого комментария, вам придёт идея, как реализовать лучше.
- 5. Закоментированный код. 
Тут все просто видишь – удоляй. Если беспокоишся о том, что это кому-то надо, повтряй мантру: “У нас есть git”.

##Функции

Сигнатура и вызов функций
1. Слишком много аргументов
2. Выходные аргументы
3. Флаги в агументах
4. Аргументы-селекторы
5. Имя функции плохо описывает выполняемою операцию  
6. Функция выполняет более одной операции
